'use strict';

import { IMessage } from './IMessage';

export class MessageUtilities {
    public static toPayloadJson(messages: IMessage[]): string {
        if (messages) {
            return '[' + messages.map(message => message.payload).join(',') + ']';
        }
        else {
            return '[]';
        }
    }

    public static processMessagesForTypes(messages: IMessage[], types: { [key: string]: (message: IMessage) => void }) {
        messages.forEach(message => {
            message.types.forEach(type => {
                if (types[type]) {
                    types[type](message);
                }
            });
        });
    }
}
