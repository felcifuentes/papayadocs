import { IAgent } from '../IAgent';
import { IErrorReportingService } from '@glimpse/glimpse-common';
import { IServerRequestInspector } from './IServerRequestInspector';
export declare class HttpProxy {
    private inspectors;
    private proxiedModules;
    private agent;
    private errorReportingService;
    private scriptManager;
    private raiseRequestStartEvent(req, res, requestStartTime);
    private raiseRequestEndEvent(req, res, content, size, requestStartTime, multiPartSummaries);
    private raiseResponseStartEvent(req, res, responseStartTime);
    private raiseResponseEndEvent(req, res, content, size, responseStartTime);
    private getCurrentTimeStamp();
    private patchServerExport(agent, httpModule);
    private setupServerProxy(agent, cb);
    private setupInspectorExtensions(agent);
    addServerInspector(inspector: IServerRequestInspector): void;
    init(agent: IAgent, httpModule: any, resolvedModulePath: string, errorReportingService: IErrorReportingService): any;
}
