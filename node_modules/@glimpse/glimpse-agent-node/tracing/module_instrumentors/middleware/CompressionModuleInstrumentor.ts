import * as _ from 'lodash';

import { MiddlewareModuleInstrumentor } from './MiddlewareModuleInstrumentor';

export class CompressionModuleInstrumentor extends MiddlewareModuleInstrumentor {
    constructor() {
        super(
            'compression' /* supportedModule */,
            '>=1.6 <1.8'  /* supportedModuleVersions */,
            'compression' /* name */,
            'Compression' /* displayName */,
            'compression' /* packageName */);
    }

    protected onProxyModule(originalModule, newModule) {
        // NOTE: Ensure proxy has attached `filter` helper function.
        _.assign(newModule, originalModule);
    }
}

export default CompressionModuleInstrumentor;
